"use strict";(self.webpackChunkupgrade4me=self.webpackChunkupgrade4me||[]).push([[23],{584:function(e,t,i){async function n(){if(!("serviceWorker"in navigator))return console.log("Service Worker wird von diesem Browser nicht unterstützt"),null;try{const e=await navigator.serviceWorker.getRegistrations();for(const s of e)await s.unregister();const t=await caches.keys();await Promise.all(t.map((e=>{if("upgrade4me-cache-v2"!==e)return caches.delete(e)})));const i=await navigator.serviceWorker.register("/service_worker.js",{scope:"/",updateViaCache:"none"});function n(e){confirm("Eine neue Version ist verfügbar. Jetzt aktualisieren?")&&(e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING",version:"v2"}),navigator.serviceWorker.addEventListener("controllerchange",(()=>{window.location.reload()})))}return i.addEventListener("updatefound",(()=>{const e=i.installing;e?.addEventListener("statechange",(()=>{"installed"===e.state&&navigator.serviceWorker.controller&&n(i)}))})),i}catch(r){return console.error("Service Worker Registrierung fehlgeschlagen:",r),null}}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n().catch(console.error);i(727),i(814),i(950);var s=i(465),r=i.n(s);const a={PRICES:{"2025-04-26":{price:599,originalPrice:599,validUntil:"2025-04-25"}},TEST_PRICES:{"2025-02-22":{price:399,originalPrice:599,validUntil:"2025-02-21"},"2025-04-26":{price:599,originalPrice:599,validUntil:"2025-04-25"}},getPriceForDate(e){return this.PRICES[e]?.price||599},isSpecialOffer(e){const t=this.PRICES[e];return t?.price<t?.originalPrice}};Object.freeze(a);var o=a;class c{static CONSTANTS={DEFAULT_PRICE:599,CACHE_DURATION:6e4,DATE_FORMAT:{day:"2-digit",month:"2-digit",year:"numeric"}};constructor(){this.priceData=this.initializePriceData(),this.priceContainer=document.getElementById("regular-price-container"),this.priceContainer?this.init():console.warn("Preis-Container nicht gefunden - Widget möglicherweise nicht verfügbar")}initializePriceData(){try{return{...o.PRICES}}catch(e){return console.error("Fehler beim Initialisieren der Preisdaten:",e),{[this.getNextValidDate()]:{price:c.CONSTANTS.DEFAULT_PRICE,originalPrice:c.CONSTANTS.DEFAULT_PRICE}}}}isDevelopment(){return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}getNextValidDate(){const e=new Date;return e.setMonth(e.getMonth()+3),this.formatDateToISO(e)}formatDateToISO(e){return e.toISOString().split("T")[0]}getActiveSpecialOffer(){try{const e=new Date;for(const[t,i]of Object.entries(this.priceData)){if(!i||!i.price||!i.originalPrice)continue;if(i.validUntil&&new Date(i.validUntil)>e&&i.price<i.originalPrice)return{date:new Date(t),...i}}return null}catch(e){return console.error("Fehler bei der Sonderangebotsprüfung:",e),null}}hasSpecialOffer(){return null!==this.getActiveSpecialOffer()}getNextActiveDate(){try{const e=new Date;e.setHours(0,0,0,0);const t=Object.keys(this.priceData).map((e=>new Date(e))).filter((t=>!isNaN(t.getTime())&&t>=e)).sort(((e,t)=>e-t));return t.length?t[0]:new Date(this.getNextValidDate())}catch(e){return console.error("Fehler beim Ermitteln des nächsten aktiven Datums:",e),new Date(this.getNextValidDate())}}getNextActiveOriginalPrice(){try{const e=this.getNextActiveDate(),t=this.formatDateToISO(e);return this.priceData[t]?.originalPrice||c.CONSTANTS.DEFAULT_PRICE}catch(e){return console.error("Fehler beim Ermitteln des nächsten aktiven Preises:",e),CONSTANTS.DEFAULT_PRICE}}generatePriceContent(){try{const e=this.getActiveSpecialOffer(),t=this.getNextActiveOriginalPrice();if(!e)return`<p class="card-price">${t}<span>€</span></p>`;const i=Number(e.originalPrice).toFixed(2).replace(/[<>"/'&]/g,"");return`\n            <div class="price-display">\n                <div class="price-main">\n                    <p class="card-price card-price--original">statt ${i}<span>€</span></p>\n                    <p class="card-price card-price--special">${Number(e.price).toFixed(2).replace(/[<>"/'&]/g,"")}<span>€</span></p>\n                </div>\n                <p class="special-price-info">\n                    ${this.formatDisplayDate(e.date)} - ${this.formatDisplayDate(this.getNextDay(e.date))}<br>\n          * nur solange der Vorrat reicht\n                </p>\n            </div>`}catch(e){return console.error("Fehler beim Generieren der Preisanzeige:",e),"<p class=\"card-price\">599<span>€</span></p>"}}formatDisplayDate(e){if(!e)return"Datum nicht verfügbar";try{const t=e instanceof Date?e:new Date(e);if(isNaN(t.getTime()))throw new Error("Ungültiges Datum");return new Intl.DateTimeFormat("de-DE",{day:c.CONSTANTS.DATE_FORMAT.day,month:c.CONSTANTS.DATE_FORMAT.month,year:c.CONSTANTS.DATE_FORMAT.year}).format(t)}catch(e){return console.error("Fehler beim Formatieren des Datums:",e),"Datum nicht verfügbar"}}getNextDay(e){const t=new Date(e);return t.setDate(t.getDate()+1),t}updatePrices(){if(this.priceContainer)try{const e=this.hasSpecialOffer();this.priceContainer.className="price-container"+(e?" has-special-offer":""),this.priceContainer.innerHTML=this.generatePriceContent()}catch(e){console.error("Fehler beim Aktualisieren der Preise:",e),this.priceContainer.innerHTML=`<p class="card-price">${c.CONSTANTS.DEFAULT_PRICE}<span>€</span></p>`}}init(){try{this.updatePrices(),this.hasSpecialOffer()&&this.injectStyles()}catch(e){console.error("Fehler bei der Initialisierung:",e)}}injectStyles(){const e="shop-card-styles";if(document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.textContent="\n      .price-container.has-special-offer .price-display {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        justify-content: space-evenly;\n        gap: 0.25rem;\n      }\n\n      .price-container.has-special-offer .price-main {\n        display: flex;\n        align-items: center;\n        gap: 0.75rem;\n      }\n\n      .price-container.has-special-offer .card-price--original {\n        color: rgba(42, 48, 103, 1);\n        text-decoration: line-through;\n        font-size: clamp(1rem, 2vw, 1.25rem);\n        opacity: 0.8;\n      }\n\n      .price-container.has-special-offer .card-price--special {\n        color: rgba(42, 48, 103, 1);\n        font-weight: bold;\n        font-size: clamp(1.2rem, 2vw, 1.5rem);\n      }\n\n      .price-container.has-special-offer .special-price-info {\n        font-size: 0.75em;\n        margin: 0;\n        text-align: left;\n        color: #666; \n      }\n\n      @media (max-width: 768px) {\n        .price-container.has-special-offer .price-display {\n          align-items: center;\n          text-align: center;\n        }\n        \n        .price-container.has-special-offer .price-main {\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n      }\n\n      @media (max-width: 480px) {\n        .price-container.has-special-offer .card-price--original {\n          font-size: 0.85em;\n        }\n        \n        .price-container.has-special-offer .card-price--special {\n          font-size: 1em;\n        }\n        \n        .price-container.has-special-offer .special-price-info {\n          font-size: 0.7em;\n        }\n      }\n    ",document.head.appendChild(t)}getPriceData(){return this.priceData}}var l=new class{constructor(){this.modal=document.getElementById("modal-overlay"),this.closeButton=document.querySelector(".mc-close"),this.body=document.querySelector("body"),this.shopCardManager=new c,this.setupEventListeners()}setupEventListeners(){this.openButtons=document.querySelectorAll(".btn-tickets"),this.openButtons.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),e.classList.contains("regular")?this.openModal():this.handleCompanyRequest()}))})),this.closeButton?.addEventListener("click",(()=>{this.closeModal()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.closeModal()}))}handleCompanyRequest(){const e=document.getElementById("kontakt");e&&e.scrollIntoView({behavior:"smooth",block:"start"}),r().fire({title:"Termin vereinbaren!",text:"Bitte schreiben Sie uns eine Nachricht. Wir werden uns umgehend bei Ihnen melden.",imageUrl:"../../assets/img/kontakt_termin_vereinbaren.webp",imageHeight:200,imageWidth:300,imageAlt:"Custom Image",customClass:{confirmButton:"confirm-btn",image:"termin-vereinbaren--image"},didClose:()=>window.scrollBy(0,0)})}openModal(){if(window.calendarWidget){const e=this.shopCardManager.getPriceData();window.calendarWidget.updatePriceData?.(e)}this.modal?.classList.add("active"),this.body?.classList.add("freeze")}closeModal(){this.modal?.classList.remove("active"),this.body?.classList.remove("freeze");const e=new CustomEvent("modalClosed");document.dispatchEvent(e)}};class d{static CONSTANTS={DEFAULT_PRICE:599,TIME:"10:00",MIN_TICKETS:0,MAX_TICKETS:10,MONTH_NAMES:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]};constructor(){this.elements={panel:document.getElementById("ticket-panel"),dialog:document.querySelector("dialog"),dateHeader:document.getElementById("selected-date-header"),ticketCounter:document.getElementById("ticket-counter"),totalPrice:document.getElementById("total-price"),calendarDays:document.getElementById("calendar-days"),decreaseBtn:document.getElementById("decrease-tickets"),increaseBtn:document.getElementById("increase-tickets"),cartTotal:document.getElementById("cart-total"),totalSum:document.getElementById("ticket-sum"),soldOutDate:document.querySelector(".sold-out-date")},this.currentDate=new Date,this.selectedDate=null,this.totalTickets=0,this.totalHaveToPay=0,this.tickets={},this.priceData={...o.PRICES},this.isDevelopment()&&this.addTestPrices(),this.eventDays=Object.keys(this.priceData),this.init(),this.handleStripeRedirect(),this.Toast=r().mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,customClass:{container:"calendar-toast"}})}init(){try{this.renderCalendar(),this.setupEventListeners(),this.updateCartDisplay(),this.calculateTotalHaveToPay()}catch(e){console.error("Initialisierungsfehler:",e),this.Toast?.fire({icon:"error",title:"Initialisierungsfehler. Bitte laden Sie die Seite neu."})}}isDevelopment(){return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}addTestPrices(){const e={...o.TEST_PRICES};this.priceData={...this.priceData,...e},this.addTestModeIndicator()}addTestModeIndicator(){const e=document.createElement("div");e.style.cssText="\n      position: fixed;\n      top: 56px;\n      right: 0;\n      background: #ff4444;\n      color: white;\n      padding: 5px 10px;\n      font-size: 12px;\n      font-weight: bold;\n      z-index: 9999;\n      border-radius: 0 0 0 4px;\n    ",e.textContent="TEST MODE - Testpreise aktiv",document.body.appendChild(e)}formatDate(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}formatDisplayDate(e){const[t,i,n]=e.split("-");return`${n}.${i}.${t}`}isEventDay(e){return this.eventDays.includes(e)}createCartSvg=()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("class","mini-cart"),e.setAttribute("aria-hidden","true"),e.setAttribute("role","img");const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"),e.appendChild(t),e};renderCalendar(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth();document.getElementById("current-month").textContent=`${d.CONSTANTS.MONTH_NAMES[t]} ${e}`;const i=new Date(e,t,1).getDay(),n=new Date(e,t+1,0).getDate(),s=document.createDocumentFragment();for(let e=0;e<i;e++){const e=document.createElement("div");e.className="calendar-day empty-day",s.appendChild(e)}for(let i=1;i<=n;i++){const n=new Date(e,t,i),r=this.formatDate(n),a=this.isEventDay(r),o=this.tickets[r]||0,c=this.selectedDate===r,l=this.getPriceInfo(r),d=document.createElement("div");d.className=`calendar-day ${a?"event-day":""} ${c?"selected":""}`,d.dataset.date=r,a&&(d.setAttribute("role","button"),d.setAttribute("tabindex","0"));const h=document.createElement("div");if(h.className="day-number",h.textContent=i,d.appendChild(h),a&&l){const e=document.createElement("div");if(e.className="price-info",l.isDiscounted){const t=document.createElement("span");t.className="current-price",t.textContent=`${l.currentPrice}€`,e.appendChild(t)}else{const t=document.createElement("span");t.className="original-price",t.textContent=`${l.originalPrice}€`,e.appendChild(t)}d.appendChild(e)}if(o>0){const e=document.createElement("div");e.className="ticket-count";const t=this.createCartSvg();e.appendChild(t);const i=document.createElement("span");i.textContent=o,e.appendChild(i),d.appendChild(e)}s.appendChild(d)}this.elements.calendarDays.replaceChildren(s)}setupEventListeners(){this.setupNavigationListeners(),this.setupDaySelectionListener(),this.setupModalListener(),this.setupTicketControlListeners()}setupNavigationListeners(){const e=document.getElementById("prev-month"),t=document.getElementById("next-month");e.addEventListener("click",(()=>{const e=this.currentDate.getMonth(),t=this.currentDate.getFullYear(),i=new Date(t,e-1,1);this.currentDate=i,this.renderCalendar()})),t.addEventListener("click",(()=>{const e=this.currentDate.getMonth(),t=this.currentDate.getFullYear(),i=new Date(t,e+1,1);this.currentDate=i,this.renderCalendar()}))}setupDaySelectionListener(){this.elements.calendarDays.addEventListener("click",(e=>{const t=e.target.closest(".calendar-day");t?.classList.contains("event-day")&&(this.selectedDate=t.dataset.date,this.renderCalendar(),this.showTicketPanel(),l.openModal())}))}setupModalListener(){document.addEventListener("modalClosed",(()=>this.resetPanel()))}setupTicketControlListeners(){this.elements.decreaseBtn.addEventListener("click",(()=>this.updateTicketCount(-1))),this.elements.increaseBtn.addEventListener("click",(()=>this.updateTicketCount(1)))}resetPanel(){this.selectedDate=null,this.elements.panel.style.display="none"}getNextDay(e){const t=new Date(e);return t.setDate(t.getDate()+1),this.formatDisplayDate(this.formatDate(t))}showTicketPanel(){this.selectedDate?(this.initializePanel(),this.updateDateDisplay(),this.initializeTickets(),this.updateDisplays()):this.resetPanel()}updatePriceData(e){this.priceData=e,this.eventDays=Object.keys(e),this.renderCalendar()}getPriceForDate(e){return this.priceData[e]?this.priceData[e].price:d.CONSTANTS.DEFAULT_PRICE}getPriceInfo(e){if(!e)return null;const t=this.priceData[e];return t?{currentPrice:Number(t.price)||d.CONSTANTS.DEFAULT_PRICE,originalPrice:Number(t.originalPrice)||d.CONSTANTS.DEFAULT_PRICE,isDiscounted:t.price<t.originalPrice,validUntil:t.validUntil||null}:null}initializePanel(){this.elements.dialog.classList.remove("active"),this.elements.panel.style.display="block"}updateDateDisplay(){const e=this.formatDisplayDate(this.selectedDate),t=this.getNextDay(this.selectedDate);this.elements.dateHeader.textContent=`${e} - ${t}`}initializeTickets(){this.selectedDate in this.tickets||(this.tickets[this.selectedDate]=d.CONSTANTS.MIN_TICKETS)}updateDisplays(){this.updateTicketDisplay(),this.updateHaveToPayDisplay(),this.checkMaxTickets()}checkMaxTickets(){const e=(this.tickets[this.selectedDate]||0)>=d.CONSTANTS.MAX_TICKETS;if(e){const e=this.formatDisplayDate(this.selectedDate);this.elements.soldOutDate.textContent=e}this.elements.dialog.classList.toggle("active",e)}updateTicketCount(e){if(!this.selectedDate)return;const t=(this.tickets[this.selectedDate]||0)+e;t<d.CONSTANTS.MIN_TICKETS||t>d.CONSTANTS.MAX_TICKETS||(this.totalTickets+=e,this.tickets[this.selectedDate]=t,this.updateTicketDisplay(),this.updateCartDisplay(),this.calculateTotalHaveToPay(),this.renderCalendar(),this.checkMaxTickets())}updateCartDisplay(){const e=((e,t)=>{let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>e.apply(this,n)),t)}})((()=>{this.elements.cartTotal.classList.add("update-animation"),setTimeout((()=>{this.elements.cartTotal.classList.remove("update-animation")}),300)}),150);this.elements.cartTotal.textContent=this.totalTickets,e()}calculateTotalHaveToPay(){this.totalHaveToPay=Object.entries(this.tickets).reduce(((e,[t,i])=>e+i*this.getPriceForDate(t)),0),this.updateHaveToPayDisplay()}updateTicketDisplay(){const e=this.selectedDate,t=this.tickets[this.selectedDate]||0,i=this.getPriceInfo(this.selectedDate);if(this.elements.ticketCounter.textContent=t,this.elements.decreaseBtn.disabled=t===d.CONSTANTS.MIN_TICKETS,this.elements.increaseBtn.disabled=t===d.CONSTANTS.MAX_TICKETS,this.elements.totalPrice.innerHTML="",i&&i.isDiscounted)if(0===t){const e=document.createElement("span");e.textContent=`${i.originalPrice.toLocaleString("de-DE")} €`,e.className="original-price",this.elements.totalPrice.appendChild(e)}else{const e=document.createElement("span");e.textContent=`${(t*i.originalPrice).toLocaleString("de-DE")} €`,e.className="original-price";const n=document.createElement("span");n.textContent=`${(t*i.currentPrice).toLocaleString("de-DE")} €`,n.className="current-price",this.elements.totalPrice.appendChild(e),this.elements.totalPrice.appendChild(n)}else{const i=(t||1)*this.getPriceForDate(e);this.elements.totalPrice.textContent=`${i.toLocaleString("de-DE")} €`}}updateHaveToPayDisplay(){const e=this.totalHaveToPay.toLocaleString("de-DE");this.elements.totalSum.textContent=`${e} €`}prepareTicketData(){return{tickets:Object.entries(this.tickets).filter((([e,t])=>t>0)).map((([e,t])=>({date:e,quantity:Number(t),price:Number(this.getPriceForDate(e))}))),totalAmount:Number(this.totalHaveToPay)}}validateCheckoutPreconditions(){return document.getElementById("agb-checkbox").checked?0!==this.totalTickets||(this.Toast.fire({icon:"info",title:"Bitte wählen Sie mindestens ein Ticket aus!"}),!1):(this.Toast.fire({icon:"warning",title:"Bitte akzeptieren Sie die AGBs"}),!1)}async initiateCheckout(){if(!this.validateCheckoutPreconditions())return;const e=this.prepareTicketData();try{await async function(e){try{if(!e?.tickets?.length)throw new Error("Ungültige Ticket-Daten");const t="/api/checkout",i=await fetch(t,{method:"POST",credentials:"localhost"===window.location.hostname?"omit":"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketData:{tickets:e.tickets,totalAmount:e.totalAmount}})});if(!i.ok){const e=await i.json().catch((()=>null));throw new Error(e?.error||`Checkout fehlgeschlagen: ${i.status}`)}const{url:n}=await i.json();if(!n||!n.startsWith("https://checkout.stripe.com"))throw new Error("Ungültige Checkout-URL");window.location=n}catch(e){console.error("Checkout Fehler:",e),await r().fire({title:"Es ist ein Fehler aufgetreten",text:"Bitte versuchen Sie es später erneut.",icon:"error",confirmButtonText:"OK"})}}(e)}catch(e){console.error("Checkout error:",e),this.Toast.fire({icon:"error",title:"Checkout konnte nicht gestartet werden"})}}handleStripeRedirect(){const e=new URLSearchParams(window.location.search).get("result");"success"===e?r().fire({title:"Vielen Dank für Ihre Bestellung!",text:"Sie erhalten in Kürze eine Bestätigungs-E-Mail mit ihrem persönlichen Ticket.",icon:"success",confirmButtonText:"OK"}).then((()=>{this.resetCart(),window.history.replaceState({},document.title,window.location.pathname)})):"cancel"===e&&r().fire({title:"Bestellung abgebrochen",text:"Sie können den Vorgang jederzeit fortsetzen.",icon:"info",confirmButtonText:"OK"}).then((()=>{window.history.replaceState({},document.title,window.location.pathname)}))}resetCart(){this.tickets={},this.totalTickets=0,this.totalHaveToPay=0,this.selectedDate=null,this.renderCalendar(),this.updateCartDisplay(),this.updateHaveToPayDisplay(),this.elements.panel&&(this.elements.panel.style.display="none"),window.scrollTo({top:0,behavior:"smooth"})}}document.addEventListener("DOMContentLoaded",(()=>{try{const e=new d,t=document.getElementById("agb-checkbox"),i=document.getElementById("checkout-button");t&&i&&(t.addEventListener("change",(()=>{i.disabled=!t.checked})),i.addEventListener("click",(async()=>{t.checked?await e.initiateCheckout():e.Toast.fire({icon:"warning",title:"Bitte akzeptieren Sie die AGBs"})})))}catch(e){console.error("Kalendar Widget Initialisierungsfehler:",e),r().fire({title:"Initialisierungsfehler",text:"Der Kalender konnte nicht geladen werden. Bitte laden Sie die Seite neu.",icon:"error"})}}));i(379),i(355),i(96);function h(){const e=document.querySelector(".footer-impressum"),t=document.querySelector(".footer-datenschutz");navigator.onLine?(e.href="https://itrk.legal/WIA.75.QO0.html?impressum=&imp=1",t.href="https://itrk.legal/WIA.8U.QO0.html?datenschutz"):(e.href="/impressum.html",t.href="/datenschutz.html")}document.addEventListener("DOMContentLoaded",(()=>{h(),window.addEventListener("online",h),window.addEventListener("offline",h)}));const m=e=>NodeList.prototype.isPrototypeOf(e)||HTMLCollection.prototype.isPrototypeOf(e)?Array.from(e):"string"==typeof e||e instanceof String?document.querySelectorAll(e):[e];const u=new class{constructor(){this.positions={top:0,bottom:0,height:0}}setViewportTop(e){return this.positions.top=e?e.scrollTop:window.pageYOffset,this.positions}setViewportBottom(){return this.positions.bottom=this.positions.top+this.positions.height,this.positions}setViewportAll(e){return this.positions.top=e?e.scrollTop:window.pageYOffset,this.positions.height=e?e.clientHeight:document.documentElement.clientHeight,this.positions.bottom=this.positions.top+this.positions.height,this.positions}},p=(()=>{const e="transform webkitTransform mozTransform oTransform msTransform".split(" ");let t,i=0;for(;void 0===t;)t=void 0!==document.createElement("div").style[e[i]]?e[i]:void 0,i+=1;return t})();class g{constructor(e,t){var i;this.element=e,this.elementContainer=e,this.settings=t,this.isVisible=!0,this.isInit=!1,this.oldTranslateValue=-1,this.init=this.init.bind(this),this.customWrapper=this.settings.customWrapper&&this.element.closest(this.settings.customWrapper)?this.element.closest(this.settings.customWrapper):null,"img"!==(i=e).tagName.toLowerCase()&&"picture"!==i.tagName.toLowerCase()||i&&i.complete&&!(typeof i.naturalWidth<"u"&&0===i.naturalWidth)?this.init():this.element.addEventListener("load",(()=>{setTimeout((()=>{this.init(!0)}),50)}))}init(e){this.isInit||(e&&(this.rangeMax=null),!this.element.closest(".simpleParallax")&&(!1===this.settings.overflow&&this.wrapElement(this.element),this.setTransformCSS(),this.getElementOffset(),this.intersectionObserver(),this.getTranslateValue(),this.animate(),this.settings.delay>0?setTimeout((()=>{this.setTransitionCSS(),this.elementContainer.classList.add("simple-parallax-initialized")}),10):this.elementContainer.classList.add("simple-parallax-initialized"),this.isInit=!0))}wrapElement(){const e=this.element.closest("picture")||this.element;let t=this.customWrapper||document.createElement("div");t.classList.add("simpleParallax"),t.style.overflow="hidden",this.customWrapper||(e.parentNode.insertBefore(t,e),t.appendChild(e)),this.elementContainer=t}unWrapElement(){const e=this.elementContainer;this.customWrapper?(e.classList.remove("simpleParallax"),e.style.overflow=""):e.replaceWith(...e.childNodes)}setTransformCSS(){!1===this.settings.overflow&&(this.element.style[p]=`scale(${this.settings.scale})`),this.element.style.willChange="transform"}setTransitionCSS(){this.element.style.transition=`transform ${this.settings.delay}s ${this.settings.transition}`}unSetStyle(){this.element.style.willChange="",this.element.style[p]="",this.element.style.transition=""}getElementOffset(){const e=this.elementContainer.getBoundingClientRect();if(this.elementHeight=e.height,this.elementTop=e.top+u.positions.top,this.settings.customContainer){const t=this.settings.customContainer.getBoundingClientRect();this.elementTop=e.top-t.top+u.positions.top}this.elementBottom=this.elementHeight+this.elementTop}buildThresholdList(){const e=[];for(let t=1;t<=this.elementHeight;t++){const i=t/this.elementHeight;e.push(i)}return e}intersectionObserver(){const e={root:null,threshold:this.buildThresholdList()};this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),e),this.observer.observe(this.element)}intersectionObserverCallback(e){e.forEach((e=>{e.isIntersecting?this.isVisible=!0:this.isVisible=!1}))}checkIfVisible(){return this.elementBottom>u.positions.top&&this.elementTop<u.positions.bottom}getRangeMax(){const e=this.element.clientHeight;this.rangeMax=e*this.settings.scale-e}getTranslateValue(){let e=((u.positions.bottom-this.elementTop)/((u.positions.height+this.elementHeight)/100)).toFixed(1);return e=Math.min(100,Math.max(0,e)),0!==this.settings.maxTransition&&e>this.settings.maxTransition&&(e=this.settings.maxTransition),this.oldPercentage!==e&&(this.rangeMax||this.getRangeMax(),this.translateValue=(e/100*this.rangeMax-this.rangeMax/2).toFixed(0),this.oldTranslateValue!==this.translateValue)&&(this.oldPercentage=e,this.oldTranslateValue=this.translateValue,!0)}animate(){let e,t=0,i=0;(this.settings.orientation.includes("left")||this.settings.orientation.includes("right"))&&(i=`${this.settings.orientation.includes("left")?-1*this.translateValue:this.translateValue}px`),(this.settings.orientation.includes("up")||this.settings.orientation.includes("down"))&&(t=`${this.settings.orientation.includes("up")?-1*this.translateValue:this.translateValue}px`),e=!1===this.settings.overflow?`translate3d(${i}, ${t}, 0) scale(${this.settings.scale})`:`translate3d(${i}, ${t}, 0)`,this.element.style[p]=e}}let f,y,w=!1,v=[];class b{constructor(e,t){e&&Element.prototype.closest&&"IntersectionObserver"in window&&(this.elements=m(e),this.defaults={delay:0,orientation:"up",scale:1.3,overflow:!1,transition:"cubic-bezier(0,0,0,1)",customContainer:"",customWrapper:"",maxTransition:0},this.settings=Object.assign(this.defaults,t),this.settings.customContainer&&([this.customContainer]=m(this.settings.customContainer)),this.lastPosition=-1,this.resizeIsDone=this.resizeIsDone.bind(this),this.refresh=this.refresh.bind(this),this.proceedRequestAnimationFrame=this.proceedRequestAnimationFrame.bind(this),this.init())}init(){u.setViewportAll(this.customContainer),v=[...this.elements.map((e=>new g(e,this.settings))),...v],w||(this.proceedRequestAnimationFrame(),window.addEventListener("resize",this.resizeIsDone),w=!0)}resizeIsDone(){clearTimeout(y),y=setTimeout(this.refresh,200)}proceedRequestAnimationFrame(){u.setViewportTop(this.customContainer),this.lastPosition!==u.positions.top?(u.setViewportBottom(),v.forEach((e=>{this.proceedElement(e)})),f=window.requestAnimationFrame(this.proceedRequestAnimationFrame),this.lastPosition=u.positions.top):f=window.requestAnimationFrame(this.proceedRequestAnimationFrame)}proceedElement(e){let t=!1;t=this.customContainer?e.checkIfVisible():e.isVisible,t&&e.getTranslateValue()&&e.animate()}refresh(){u.setViewportAll(this.customContainer),v.forEach((e=>{e.getElementOffset(),e.getRangeMax()})),this.lastPosition=-1}destroy(){const e=[];v=v.filter((t=>this.elements.includes(t.element)?(e.push(t),!1):t)),e.forEach((e=>{e.unSetStyle(),!1===this.settings.overflow&&e.unWrapElement()})),v.length||(window.cancelAnimationFrame(f),window.removeEventListener("resize",this.refresh),w=!1)}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".scrolling-bg--container");let t=[];const i=()=>{t.length>0&&(t.forEach((e=>e.destroy())),t=[]),e.forEach((e=>{e.style.transform="",e.style.transition="",e.style.backgroundAttachment=""})),window.innerWidth<768&&e.forEach((e=>{const i=new b(e,{delay:.1,scale:1.6,overflow:!0,transition:"linear",orientation:"down",MaxTransition:90});t.push(i)}))};let n;i(),window.addEventListener("resize",(()=>{clearTimeout(n),n=setTimeout(i,250)}))}));const T={"@context":"https://schema.org","@type":["LocalBusiness","BeautySalon","Organization"],name:"Upgrade4me",image:"https://www.upgrade4me.de/assets/logo/logo_450.webp",description:"Professionelle Beratung und Coaching für persönliche Transformation in Sachen Gesundheit, Styling & Typberatung in München",url:"https://www.upgrade4-me.de",sameAs:["https://www.phillipschmitt.de/","https://www.tcm-reginaseiler.de/","https://www.4-secrets.de/"],priceRange:"€€",areaServed:{"@type":"GeoCircle",geoMidpoint:{"@type":"GeoCoordinates",latitude:"48.186791241688425",longitude:"11.607266181458428"},geoRadius:"50000"},hasOfferCatalog:{"@type":"OfferCatalog",name:"Upgrade4me Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Personal Coaching"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Styling Beratung"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Typberatung"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Gesundheitsberatung"}}]},makesOffer:{"@type":"Offer",name:"Personal Transformation Workshop",price:"599.00",priceCurrency:"EUR",availability:"https://schema.org/InStock"},address:{"@type":"PostalAddress",streetAddress:"Frankfurter Ring 247",addressLocality:"München",postalCode:"80807",addressCountry:{"@type":"Country",name:"DE"}},geo:{"@type":"GeoCoordinates",latitude:"48.186791241688425",longitude:"11.607266181458428"}};function D(){try{const e=document.querySelector("script[type=\"application/ld+json\"]");if(e)return console.warn("Schema markup already exists, updating content..."),void(e.text=JSON.stringify(T,null,2));const t=document.createElement("script");t.type="application/ld+json",t.text=JSON.stringify(T,null,2);const i=document.head||document.getElementsByTagName("head")[0];if(!i)throw new Error("No head element found in document");i.appendChild(t)}catch(e){console.error("Failed to insert schema markup:",e)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",D):D();class S{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const k={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},C=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},E=async(e,t,i={})=>{const n=await fetch(k.origin+e,{method:"POST",headers:i,body:t}),s=await n.text(),r=new S(n.status,s);if(n.ok)return r;throw r},L=(e,t,i)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!=typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},P=e=>e.webdriver||!e.languages||0===e.languages.length,I=()=>new S(451,"Unavailable For Headless Browser"),x=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const i=(n=t,s=e.watchVariable,n instanceof FormData?n.get(s):n[s]);var n,s;return"string"==typeof i&&e.list.includes(i)},O=()=>new S(403,"Forbidden"),A=async(e,t,i)=>{if(!t.throttle||!i)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const n=t.id||e,s=await(async(e,t,i)=>{const n=Number(await i.get(e)||0);return t-Date.now()+n})(n,t.throttle,i);return s>0||(await i.set(n,Date.now().toString()),!1)},N=()=>new S(429,"Too Many Requests");var M=(e,t="https://api.emailjs.com")=>{if(!e)return;const i=C(e);k.publicKey=i.publicKey,k.blockHeadless=i.blockHeadless,k.storageProvider=i.storageProvider,k.blockList=i.blockList,k.limitRate=i.limitRate,k.origin=i.origin||t},F=async(e,t,i,n)=>{const s=C(n),r=s.publicKey||k.publicKey,a=s.blockHeadless||k.blockHeadless,o=s.storageProvider||k.storageProvider,c={...k.blockList,...s.blockList},l={...k.limitRate,...s.limitRate};if(a&&P(navigator))return Promise.reject(I());if(L(r,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(i),i&&x(c,i))return Promise.reject(O());if(await A(location.pathname,l,o))return Promise.reject(N());const d={lib_version:"4.4.1",user_id:r,service_id:e,template_id:t,template_params:i};return E("/api/v1.0/email/send",JSON.stringify(d),{"Content-type":"application/json"})},B=i(5),R=i.n(B);const q=(()=>{let e;return(t,i=1e3)=>{clearTimeout(e),e=setTimeout(t,i)}})(),z=async(e,t,i,n)=>{const s=t.querySelector("button[type='submit']");s&&(s.disabled=!0);try{await F("service_k44w9zj","true"===e.feedback?"template_ca7i3tb":"template_ynrr82n",e);const n="true"===e.feedback?{title:"Feedback erfolgreich gesendet.",text:"Vielen Dank für Ihr Feedback."}:{title:"Email erfolgreich gesendet.",text:"Wir werden uns schnellstmöglich bei Ihnen melden."};await r().fire({...n,icon:"success",timer:3e3,timerProgressBar:!0}),t.reset(),i&&(i.checked=!1)}catch(e){console.error("Fehler beim Senden der Email:",e),await r().fire({title:"Fehler beim Senden",text:"Bitte versuchen Sie es später erneut.",icon:"error",timer:3e3})}finally{s&&(s.disabled=!1)}},V=async e=>{const t=e.querySelector("button[type='submit']");t?.setAttribute("disabled","true"),t.style.opacity=.5;try{if((()=>{try{const e=localStorage.getItem("feedbackGiven"),t=localStorage.getItem("feedbackExpiration");if(!e||!t)return!1;const i=new Date(t);return!(new Date>i)}catch(e){return console.error("Fehler beim Überprüfen des Feedback-Status: ",e),!1}})())return void await r().fire({title:"Feedback bereits abgegeben",text:"Du hast bereits Feedback abgegeben. Danke für deine Teilnahme!",icon:"info",timer:3e3});const t=e.querySelector("[name='feedback']"),i=(e=>{if(!e||e.trim().length<10)throw new Error("Feedback muss mindestens 10 Zeichen lang sein");return{surname:"Feedback",name:"Feedback-Formular",email:"feedback@upgrade4me.de",telephone:"-",message:R()(e.trim()),feedback:"true"}})(t.value.trim());await z(i,e),(()=>{const e=new Date,t=new Date(e.getTime()+2592e6).toISOString();try{localStorage.setItem("feedbackExpiration",t),localStorage.setItem("feedbackGiven",e.toISOString())}catch(e){console.error("Fehler beim Setzen des Feedback-Ablaufs: ",e)}})(),e.reset()}catch(e){console.error("Feedback-Fehler:",e),await r().fire({title:"Feedback konnte nicht gesendet werden",text:e.message||"Bitte versuchen Sie es später erneut.",icon:"error",timer:3e3})}finally{t?.removeAttribute("disabled"),t.style.opacity=1}};window.addEventListener("DOMContentLoaded",(()=>{(()=>{try{M("0NiQcSlDGygRWkUjE")}catch(e){console.error("EmailJS Initialisierung fehlgeschlagen:",e)}})();const e=document.querySelector(".checkbox-email"),t=document.querySelector(".btn-submit-email");e.addEventListener("change",(()=>{t.disabled=!e.checked,t.classList.toggle("active",e.checked)}));const i=document.getElementById("contact-form");i.addEventListener("submit",(n=>{n.preventDefault(),q((async()=>{try{const n=(e=>{const t=new FormData(e);return{surname:t.get("surname")?.trim()||"",name:t.get("name")?.trim()||"",email:t.get("email")?.trim()||"",telephone:t.get("telephone")?.trim()||"",message:t.get("message")?.trim()||"",feedback:t.get("feedback")?.trim()||"false"}})(i),s=(e=>{if("object"!=typeof e||Object.keys(e).length<5)throw new Error("Fehlende oder ungültige Parameter für die Email.");const t={surname:R()(e.surname),name:R()(e.name),email:R()(e.email),telephone:R()(e.telephone),message:R()(e.message),feedback:R()(e.feedback)};if(!(t.surname&&t.name&&t.email&&t.telephone&&t.message&&t.feedback))throw new Error("Fehlende erforderliche Parameter für die Email.");return t})(n);"false"===s.feedback&&(z(s,i,e),e.checked=!1,t.disabled=!0),i.reset()}catch(e){console.error("Fehler bei der Formularverarbeitung Kontakt-Form:",e),r().fire({title:"Deine Nachricht kann derzeit leider nicht verarbeitet werden.",text:"Wir bitten vielmals um Entschuldigung!",icon:"error",timer:3e3})}}))}));const n=document.querySelector(".feedback-form");n&&n.addEventListener("submit",(e=>{e.preventDefault(),q((()=>V(e.target)))}))}));i(656),i(690);(async()=>{try{const{initializeApp:e}=await Promise.all([i.e(223),i.e(578),i.e(148)]).then(i.bind(i,223)),{getFirestore:t}=await Promise.all([i.e(405),i.e(578),i.e(148)]).then(i.bind(i,405)),{getFunctions:n}=await Promise.all([i.e(749),i.e(578),i.e(148)]).then(i.bind(i,749)),s=e({projectId:"upgrade4me-7a4f0"}),r=t(s),a=n(s,"europe-west3");0,window.firebaseApp=s,window.firebaseDb=r,window.firebaseFunctions=a}catch(e){console.error("Firebase Initialisierungsfehler:",e,{umgebung:"production",zeitstempel:(new Date).toISOString()})}})()},727:function(){document.querySelectorAll(".accordion").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget;t.querySelector(".add");t.classList.toggle("active");const i=t.nextElementSibling,n=t.querySelector(".add"),s=t.querySelector(".remove");t.classList.contains("active")?(n.style.animation="rotateLeft 0.3s linear forwards",i.style.maxHeight=i.scrollHeight+"px",setTimeout((()=>{n.style.display="none",s.style.display="block"}),400)):(n.style.animation="rotateBack 0.3s linear forwards",i.style.maxHeight=null,setTimeout((()=>{s.style.display="none",n.style.display="block"}),100))}))}))},814:function(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".scrolling-bg .third");if(!e)return void console.error("Company section not found");const t=e.querySelector("article");if(!t)return void console.error("Company section article not found");const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&("scrolling-bg--container third"===e.target.classList.value&&t.classList.add("animate__fadeInDownBig"),i.unobserve(e.target))}))}),{root:null,threshold:.2});i.observe(e)}))},950:function(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".scrolling-bg .fourth");if(!e)return void console.error("Location section not found");const t=e.querySelector("article");if(!t)return void console.error("Location section article not found");const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&("scrolling-bg--container fourth"===e.target.classList.value&&t.classList.add("animate__fadeInDownBig"),i.unobserve(e.target))}))}),{root:null,threshold:.2});i.observe(e)}))},379:function(){const e=document.querySelectorAll(".gallery-container");window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.forEach((e=>{e.setAttribute("data-animated",!0);const t=e.querySelector(".gallery-container--rows");Array.from(t.children).forEach((e=>{const i=e.cloneNode(!0);i.setAttribute("aria-hidden",!0),t.appendChild(i)})),new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.querySelector(".gallery-container--rows");e.isIntersecting?t.style.animationPlayState="running":t.style.animationPlayState="paused"}))}),{threshold:.1}).observe(e)}))},355:function(){const e={position:{lat:48.186936089563986,lng:11.60708953125863},mapId:"69987af2fbff417d",zoom:16,mapTypeControl:!1,streetViewControl:!1};async function t(){try{const{Map:t}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:n}=await google.maps.importLibrary("marker"),s=document.getElementById("map");let r;s||(console.error("Map-Container nicht gefunden!"),i());try{r=new t(s,{...e,center:e.position})}catch(e){console.error("Fehler bei der Karteninitialisierung:",e),i()}const a=function(){const e=document.createElement("div");return e.className="custom-marker",e.innerHTML="\n    <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"#2A3067\">\n      <path d=\"M12 0C7.802 0 4 3.403 4 7.602C4 11.8 7.469 16.812 12 24C16.531 16.812 20 11.8 20 7.602C20 3.403 16.199 0 12 0ZM12 11C10.343 11 9 9.657 9 8C9 6.343 10.343 5 12 5C13.657 5 15 6.343 15 8C15 9.657 13.657 11 12 11Z\"/>\n    </svg>\n  ",e}(),o=new google.maps.InfoWindow({content:"\n      <div id=\"content\">\n        <div id=\"siteNotice\">\n          <p>\n            Adresse:<br>\n            milk.city studio<br>\n            Frankfurter Ring 247<br>\n            München\n          </p>\n        </div>\n      </div>\n    ",ariaLabel:"Munich milk.city Studio"}),c=new n({map:r,position:e.position,content:a,title:"Milk.city studio München"});c.addListener("click",(()=>{o.open({anchor:c,map:r})}))}catch(e){console.error("Fehler beim Laden der Maps-Bibliothek:",e),i()}}function i(){const e=document.getElementById("map");e&&(e.innerHTML="\n      <div class=\"map-error\">\n        <p>Karte konnte nicht geladen werden. Bitte versuchen Sie es später erneut.</p>\n      </div>\n    ")}document.addEventListener("DOMContentLoaded",(async()=>{!function(){const e=document.createElement("style");e.textContent="\n    @keyframes bounce {\n      0%, 100% { transform: translateY(0); }\n      50% { transform: translateY(-10px); }\n    }\n\n    .custom-marker {\n      cursor: pointer;\n      animation: bounce 2s infinite ease-in-out;\n    }\n\n    .custom-marker:hover {\n      animation-play-state: paused;\n    }\n\n    .map-error {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n      background-color: #f8f9fa;\n      padding: 20px;\n      text-align: center;\n    }\n  ",document.head.appendChild(e)}(),t()}))},96:function(){const e=document.querySelector(".side-nav"),t=document.querySelector(".side-nav--icon"),i=document.querySelector(".side-nav--close-btn");let n=window.innerWidth;function s(){e&&(e.style.width="0")}function r(){n=window.innerWidth,n>=992&&s(),n<992?(t&&t.classList.add("visible"),i&&i.classList.remove("visible")):(t&&t.classList.remove("visible"),i&&i.classList.remove("visible"))}document.addEventListener("DOMContentLoaded",(()=>{r(),window.addEventListener("resize",r),t&&t.addEventListener("click",(()=>{!function(t){e&&(e.style.width=t)}(n<=576?"165px":"200px")})),i&&i.addEventListener("click",s)}))},656:function(){const e=document.querySelector(".team-container--item.first-item"),t=document.querySelector(".team-container--item.second-item"),i=document.querySelector(".team-container--item.third-item"),n=document.querySelector(".team-container--item.fourth-item"),s=e?.children[0],r=e?.children[1],a=t?.children[0],o=t?.children[1],c=i?.children[0],l=i?.children[1],d=n?.children[0],h=n?.children[1],m={rootMargin:null,rootMargin:"0px",threshold:[0,.15,.25]};document.addEventListener("DOMContentLoaded",(()=>{if(!(e&&t&&i&&n))return void console.warn("Einige Team-Container konnten nicht gefunden werden");const u=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>=.2&&e.intersectionRatio<=.5&&(e.target.classList.contains("first-item")&&(s?.classList.add("fade-in-left"),r?.classList.add("fade-in-right")),e.target.classList.contains("second-item")&&(a?.classList.add("fade-in-left"),o?.classList.add("fade-in-right")),e.target.classList.contains("third-item")&&(c?.classList.add("fade-in-left"),l?.classList.add("fade-in-right")),e.target.classList.contains("fourth-item")&&(d?.classList.add("fade-in-left"),h?.classList.add("fade-in-right")),u.unobserve(e.target))}))}),m);try{u.observe(e),u.observe(t),u.observe(i),u.observe(n)}catch(e){console.warn("Fehler bei der Darstellung Team:",e)}}))},690:function(){document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".aboutUs-video"),t=document.getElementById("videoPopup"),i=t.querySelector("video"),n=document.querySelectorAll(".aboutUs-btn--video"),s=document.getElementById("btn-video-close");let r=!1;function a(){r=!0,t.classList.add("active"),e.pause(),e.currentTime=0,i&&(i.currentTime=0,i.volume=.75)}function o(){r=!1,t.classList.remove("active"),i&&(i.pause(),i.currentTime=0);const n=e.getBoundingClientRect();n.top<window.innerHeight&&n.bottom>0&&!r&&e.play().catch((()=>{console.log("Autoplay wurde verhindert")}))}new IntersectionObserver((t=>{t.forEach((t=>{!t.isIntersecting||t.intersectionRatio<.3||r?e.pause():r||e.play().catch((()=>{console.log("Autoplay wurde verhindert")}))}))}),{threshold:[0,.3],rootMargin:"50px"}).observe(e),i&&i.addEventListener("error",(e=>{console.error("Fehler beim Laden des Videos:",e)})),n.forEach((e=>{e.addEventListener("click",a)})),s.addEventListener("click",o),t.addEventListener("click",(e=>{e.target===t&&o()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&r&&o()}))}))}},function(e){e.O(0,[869,769,404,483],(function(){return t=584,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=bundle1a6edd12e8744b11c424.js.map