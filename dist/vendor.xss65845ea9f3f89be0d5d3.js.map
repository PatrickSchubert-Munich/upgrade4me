{"version":3,"file":"vendor.xss65845ea9f3f89be0d5d3.js","mappings":"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","sources":["webpack://upgrade4me/./node_modules/xss/lib/default.js","webpack://upgrade4me/./node_modules/xss/lib/index.js","webpack://upgrade4me/./node_modules/xss/lib/parser.js","webpack://upgrade4me/./node_modules/xss/lib/util.js","webpack://upgrade4me/./node_modules/xss/lib/xss.js"],"sourcesContent":["/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\", \"loading\"],\n    ins: [\"datetime\"],\n    kbd: [],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.attributeWrapSign = '\"';\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\n\n(function () {\n  for (var i in DEFAULT) {\n    exports[i] = DEFAULT[i];\n  }\n  for (var j in parser) {\n    exports[j] = parser[j];\n  }\n})();\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return (\n    typeof self !== \"undefined\" &&\n    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n    self instanceof DedicatedWorkerGlobalScope\n  );\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"use strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\" || currentPos === len - 1) {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < len) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"use strict\";\n\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastMarkPos\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  this.attributeWrapSign = options.singleQuotedAttributeValue === true ? \"'\" : DEFAULT.attributeWrapSign;\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var attributeWrapSign = me.attributeWrapSign;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=' + attributeWrapSign + value + attributeWrapSign;\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n"],"names":["FilterCSS","getDefaultCSSWhiteList","_","getDefaultWhiteList","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hr","i","img","ins","kbd","li","mark","nav","ol","p","pre","s","section","small","span","sub","summary","sup","strong","strike","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","escapeHtml","html","replace","REGEXP_LT","REGEXP_GT","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","REGEXP_DEFAULT_ON_TAG_ATTR_4","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeQuote","str","unescapeQuote","escapeHtmlEntities","String","fromCharCode","parseInt","substr","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","length","charCodeAt","charAt","trim","friendlyAttrValue","escapeAttrValue","exports","whiteList","onTag","tag","options","onIgnoreTag","onTagAttr","name","value","onIgnoreTagAttr","safeAttrValue","cssFilter","lastIndex","test","process","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","Array","isArray","removeList","posStart","indexOf","isRemoveTag","isClosing","ret","end","position","push","remove","rethtml","lastPos","forEach","pos","slice","stripCommentTag","retHtml","j","stripBlankChar","chars","split","filter","char","c","join","attributeWrapSign","DEFAULT","parser","FilterXSS","filterXSS","module","window","self","DedicatedWorkerGlobalScope","getTagName","tagName","spaceIndex","toLowerCase","REGEXP_ILLEGAL_ATTR_NAME","findNextEqual","findNextQuotationMark","findBeforeEqual","stripQuoteWrap","text","isQuoteWrapString","parseTag","tagStart","quoteStart","currentPos","currentTagName","currentHtml","chariterator","ic","parseAttr","onAttr","lastMarkPos","retAttrs","tmpName","addAttr","arr","item","prototype","fn","scope","call","match","exec","index","isNull","obj","shallowCopyObject","stripIgnoreTag","console","error","allowList","map","keysToLowerCase","this","singleQuotedAttributeValue","css","toString","me","allowCommentTag","stripIgnoreTagBody","sourcePosition","info","isWhite","Object","hasOwnProperty","attrs","closing","getAttrs","whiteAttrList","attrsHtml","isWhiteAttr"],"sourceRoot":""}